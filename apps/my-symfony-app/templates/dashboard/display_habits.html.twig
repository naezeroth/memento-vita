{% extends 'base_1.html.twig' %}

{%  block main %}
    <h2>Your Habits</h2>
    <br>
    {% dump(results) %}
    {% set r = results|batch(3) %}

    {% for atom in r %}

{#        {% set panelClass = 'panel--' ~ loop.index %}#}

        <div class="card-deck">
            {% for entry in atom %}
                <div class="card">
                                        <img src="https://hatrabbits.com/wp-content/uploads/2017/01/random.jpg" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">{{ entry.name }}</h5>
                        <p class="card-text"> {{  entry.description }} </p>
                        <p class="card-text"> For goal: {{  entry.goal.name }} </p>
{#                        {{ dump(entry.count) }}#}
{#                        {% for i in range(0,entry.count-1) %}#}
{#                            <p class="card-text"> For date: {{ entry.getRecurrenceCollection[i] |date('Y-m-d')}}#}
{#                            {% if entry.done[i] == 1 %}#}
{#                                is done ✅#}
{#                            {% elfse %}#}
{#                                is not done ❌#}
{#                            {% endif %}#}
{#                            </p>#}
{#                        {% endfor %}#}
                        <a href="{{ path('edit_habit', {'id': entry.getId}) }}"><button class="btn btn-primary" >Edit Habit</button></a>
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
                            Launch demo modal
                        </button>
                    </div>
                    <div class="card-footer">
                        <small class="text-muted">Last updated 3 mins ago</small>
                    </div>
                </div>
            {% endfor %}
        </div>
        <br>
    {% endfor %}
    <a href="{{ path('add_habit') }}"><button class="btn btn-success" >Add Habit</button></a>

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
        Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

{#    https://stackoverflow.com/questions/25916915/to-pass-dynamic-data-to-a-bootstrap-modal#}

{%  endblock %}